var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},t={},o=e.parcelRequireeba8;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in t){var o=t[e];delete t[e];var a={id:e,exports:{}};return r[e]=a,o.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,r){t[e]=r},e.parcelRequireeba8=o);var a=o("7rYDH"),n=o("7EEHk"),l=o("1GAPJ");const i={formEl:document.querySelector("#search-form"),galleryEl:document.querySelector(".gallery"),addMoreWrapper:document.querySelector(".btn-wrapper"),addMoreButton:document.querySelector(".add-more")};let s,d=1;const c=async e=>{d+=1;try{const e=await(0,a.default)({query:s,page:d});Math.ceil(e.total/40)===d&&(f(),l.Notify.info("End of collection")),(0,n.default)(e),p()}catch(e){l.Notify.failure(e.message)}},u=()=>{const{addMoreWrapper:e,addMoreButton:r}=i;e.classList.remove("not-visible"),r.addEventListener("click",c)},f=()=>{const{addMoreWrapper:e,addMoreButton:r}=i;e.classList.add("not-visible"),r.removeEventListener("click",c)},p=()=>{i.addMoreWrapper.classList.contains("not-visible")||i.addMoreWrapper.scrollIntoView({behavior:"smooth"})};i.formEl.addEventListener("submit",(async e=>{e.preventDefault(),d=1,s=e.currentTarget.elements.searchQuery.value;const{formEl:r,galleryEl:t,addMoreWrapper:o}=i;t.innerHTML="",o.classList.add("not-visible");try{const e=await(0,a.default)({query:s,page:d});if(0===e.hits.length)return void l.Notify.failure("Sorry, there are no images matching your search query. Please try again.");l.Notify.success(`There are ${e.total} results.`),e.total>40&&u(),(0,n.default)(e),r.reset()}catch(e){l.Notify.failure(e.message)}}));
//# sourceMappingURL=addMore.aebc5ac8.js.map
